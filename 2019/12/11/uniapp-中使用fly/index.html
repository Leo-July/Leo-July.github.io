
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="leo July&#39;s blog">
    <title>uniapp ä¸­ä½¿ç”¨fly - leo July&#39;s blog</title>
    <meta name="author" content="Leo July">
    
        <meta name="keywords" content="uniapp,fly">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Leo July","sameAs":["https://github.com/Leo-July","mailto:15563861385@163.com","https://xuebin.me","https://zhangmiao.cc/"],"image":"http://p4.music.126.net/W3NhJpLfagwydeB5FTRHtQ==/19212866184185039.jpg?param=180y180"},"articleBody":"\nflyio å¸®åŠ©æ–‡æ¡£\nç®€ä»‹Fly.js æ˜¯ä¸€ä¸ªåŸºäº promise çš„ï¼Œè½»é‡ä¸”å¼ºå¤§çš„Javascript http ç½‘ç»œåº“ï¼Œå®ƒæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š\n\næä¾›ç»Ÿä¸€çš„ Promise APIã€‚\næµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œè½»é‡ä¸”éå¸¸è½»é‡ ã€‚\næ”¯æŒå¤šç§JavaScript è¿è¡Œç¯å¢ƒ\næ”¯æŒè¯·æ±‚ï¼å“åº”æ‹¦æˆªå™¨ã€‚\nè‡ªåŠ¨è½¬æ¢ JSON æ•°æ®ã€‚\næ”¯æŒåˆ‡æ¢åº•å±‚ Http Engineï¼Œå¯è½»æ¾é€‚é…å„ç§è¿è¡Œç¯å¢ƒã€‚\næµè§ˆå™¨ç«¯æ”¯æŒå…¨å±€Ajaxæ‹¦æˆª ã€‚\nH5é¡µé¢å†…åµŒåˆ°åŸç”Ÿ APP ä¸­æ—¶ï¼Œæ”¯æŒå°† http è¯·æ±‚è½¬å‘åˆ° Nativeã€‚æ”¯æŒç›´æ¥è¯·æ±‚å›¾ç‰‡ã€‚\n\nå®‰è£…ä½¿ç”¨NPM\n1npm install flyio\nä½¿ç”¨CDN(æµè§ˆå™¨ä¸­)\n1&lt;script src=&quot;https://unpkg.com/flyio/dist/fly.min.js&quot;&gt;&lt;/script&gt;\nUMDï¼ˆæµè§ˆå™¨ä¸­ï¼‰\n1https://unpkg.com/flyio/dist/umd/fly.umd.min.js\nå¼•å…¥flyioä¸åŒJavaScriptè¿è¡Œæ—¶çš„å…¥å£æ–‡ä»¶ä¸åŒ ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£åé¢ç›¸åº”å¹³å°çš„å¼•å…¥æ–¹å¼ï¼Œä½†åœ¨æµè§ˆå™¨ã€Nodeã€React Nativeä¸­å¼•å…¥çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼Œä¸‹é¢æ˜¯ä¸åŒå¹³å°ä¸‹çš„å¼•å…¥çš„æ–¹å¼ï¼š\n\næµè§ˆå™¨ã€Nodeã€React Nativeä¸­å¼•å…¥\n 12var fly=require(&quot;flyio&quot;)\n ä¸Šé¢æ–¹å¼å¼•å…¥çš„æ˜¯Flyçš„é»˜è®¤å®ä¾‹ï¼ˆæµè§ˆå™¨ã€Nodeã€React Nativeä¸­ç›¸åŒï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºFlyå®ä¾‹ï¼š\n 12345var Fly=require(&quot;flyio/dist/npm/fly&quot;)var fly=new Fly;\n\n\n\nåœ¨å¾®ä¿¡å°ç¨‹åºä¸­å¼•å…¥\n 12var Fly=require(&quot;flyio/dist/npm/wx&quot;)var fly=new Fly\n å¦‚æœæ‚¨çš„å¾®ä¿¡å°ç¨‹åºé¡¹ç›®æ²¡æœ‰ä½¿ç”¨npmæ¥ç®¡ç†ä¾èµ–ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä¸‹è½½æºç åˆ°æ‚¨çš„å°ç¨‹åºå·¥ç¨‹ï¼Œä¸‹è½½é“¾æ¥wx.js æˆ– wx.umd.min.js .ä¸‹è½½ä»»æ„ä¸€ä¸ªï¼Œä¿å­˜åˆ°æœ¬åœ°å·¥ç¨‹ç›®å½•ï¼Œå‡è®¾åœ¨â€œlibâ€ç›®å½•ï¼Œæ¥ä¸‹æ¥å¼•å…¥ï¼š\n 12var Fly=require(&quot;../lib/wx&quot;) var fly=new Fly;\n\n\n\nå¿«åº”ç”¨ä¸­å¼•å…¥\nå¿«åº”ç”¨ ä¸­Flyä¾èµ– fetchæ¨¡å—ï¼Œéœ€è¦å…ˆåœ¨ manifest.jsonä¸­æ·»åŠ å¼•ç”¨ï¼š\n1234&quot;features&quot;: [    ...  &#123;&quot;name&quot;: &quot;system.fetch&quot;&#125;]\nç„¶ååˆ›å»ºflyå®ä¾‹\n1234var fetch = require(&quot;@system.fetch&quot;)var Fly=require(&quot;flyio/dist/npm/hap&quot;)var fly=new Fly(fetch)\n\n\n\nWeexä¸­å¼•å…¥\n12var Fly=require(&quot;flyio/dist/npm/weex&quot;)var fly=new Fly\n\n\nå¼•å…¥ä¹‹åï¼Œæ‚¨å°±å¯ä»¥å¯¹flyå®ä¾‹è¿›è¡Œå…¨å±€é…ç½®ã€æ·»åŠ æ‹¦æˆªå™¨ã€å‘èµ·ç½‘ç»œè¯·æ±‚äº†ã€‚\nå…·ä½“å®ç°å®ä¾‹\nå£°æ˜flyå®ä¾‹\n 123456789101112131415161718192021222324/** * Http** @export* @class Http*//* eslint-disable */export class Http &#123;  constructor() &#123;    let Fly = require('flyio') // https://wendux.github.io/dist/#/doc/flyio/readme    // #ifdef MP-WEIXIN    Fly = require('flyio/dist/npm/wx') // https://wendux.github.io/dist/#/doc/flyio/readme    // #endif    this.instance = new Fly()    this.instance.config= &#123;      baseURL: process.env.VUE_APP_API // ç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„apiåŸŸå      'Content-Type': 'application/json;charset=UTF-8',    &#125;  &#125;&#125;\n\næ‹¦æˆªå™¨é…ç½® è¯·æ±‚æ‹¦æˆªå™¨\n 12345678910111213141516171819// #region è¯·æ±‚æ‹¦æˆªå™¨requestUse () &#123;  this.instance.interceptors.request.use(    request =&gt; &#123;      request.headers = &#123;        'zpinno-boleuid': store.state.boleUid, // å¿…ä¼ å‚æ•°æ”¾åœ¨headers å®ç°        ...request.headers      &#125;      console.info(`ğŸ”Š [è¯·æ±‚æ‹¦æˆªå™¨]  -&gt; $&#123;request.url&#125;`, request, 'request')      return request    &#125;,    error =&gt; &#123;      console.error('ğŸ”Š [è¯·æ±‚æ‹¦æˆªå™¨] -&gt; error', error)      return Promise.resolve(error)    &#125;  )&#125;// #endregion\n region å“åº”æ‹¦æˆªå™¨\n 123456789101112131415161718192021222324252627282930313233// #region å“åº”æ‹¦æˆªå™¨responseUse () &#123;  this.instance.interceptors.response.use(    response =&gt; &#123;      console.info(`ğŸ”Š [å“åº”æ‹¦æˆªå™¨] -&gt; $&#123;response.request.url&#125;`, response)      return Promise.resolve(response.data)    &#125;,    error =&gt; &#123;      console.info(`ğŸ”Š [å“åº”æ‹¦æˆªå™¨] -&gt; error -&gt; $&#123;error.request.url&#125;`, error)      // #region response status: è¯·æ±‚å·²å‘å‡ºï¼Œä½†æ˜¯ä¸åœ¨2xxçš„èŒƒå›´      const statusCode = &#123;        404: '404,é”™è¯¯è¯·æ±‚',        401: 'æœªæˆæƒ',        403: 'ç¦æ­¢è®¿é—®',        408: 'è¯·æ±‚è¶…æ—¶',        500: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯',        501: 'åŠŸèƒ½æœªå®ç°',        502: 'æœåŠ¡ä¸å¯ç”¨',        503: 'æœåŠ¡ä¸å¯ç”¨',        504: 'ç½‘å…³é”™è¯¯',        510: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'      &#125;      // #endregion      // TODO å¤„ç†æ–­ç½‘çš„æƒ…å†µ      const statusMessage = statusCode[~~error.response.status]      return Promise.reject(statusMessage ? new Error(statusMessage) : error)    &#125;  )&#125;// #endregion\n å¼•ç”¨æ‹¦æˆªå™¨\n 12345678export class Http &#123;  constructor() &#123;    ...    this.requestUse()    this.responseUse()  &#125;&#125;\n\nå®ç°è¯·æ±‚é˜Ÿåˆ—loadingæˆ–è€…é™é»˜è¯·æ±‚ é¦–å…ˆå®šä¹‰é˜Ÿåˆ—å±æ€§\n 123456export class Http &#123;constructor() &#123;  ...  this._requestList = [] // è¯·æ±‚é˜Ÿåˆ—&#125;\n é€šè¿‡get set å®ç°ç›‘å¬requestList\n 123456789101112131415161718 // #region è¯·æ±‚é˜Ÿåˆ— get  setget requestList () &#123;  return this._requestList&#125;set requestList (list) &#123;  this._requestList = list // è®¾ç½®è¯·æ±‚é˜Ÿåˆ—  if (this._requestList.length === 0) &#123;    // å¦‚æœè¯·æ±‚é˜Ÿåˆ—ä¸ºç©ºäº†ï¼Œå°±å…³é—­loading    uni.hideLoading()  &#125; else &#123;    // åçŸ¥æ˜¾ç¤ºloading    uni.showLoading(&#123;      title: 'åŠ è½½ä¸­'    &#125;)  &#125;&#125;// #endregion\n å…¥é˜Ÿå‡ºé˜Ÿæ–¹æ³•\n 12345678910/*** * @param &#123;String&#125; id  \bè¯·æ±‚é˜Ÿåˆ—å…¥é˜Ÿæˆ–å‡ºé˜Ÿçš„id* @param &#123;Boolean&#125; remove  true: å‡ºé˜Ÿ   false: é»˜è®¤  è¿›é˜Ÿ*/setRequestList (&#123; id = '', remove = false &#125; = &#123;&#125;) &#123;  const array = [...this._requestList]  remove ? array.splice(array.indexOf(id), 1) : array.push(id)  this.requestList = array&#125;\n\nå•ä¾‹è¯·æ±‚å®ç°\n12345678910111213141516171819202122232425262728293031323334  export const http = new Http()  // #region å•ä¾‹è¯·æ±‚æ¥å£    /**    *     * @param &#123;String&#125; url  \bè¯·æ±‚url    * @param &#123;Object&#125; data è¯·æ±‚å‚æ•°    * @param &#123;Object&#125; options è¯·æ±‚å‚æ•°    * @param &#123;Boolean&#125; silent  true: é™é»˜   false: loading    * @param &#123;Object&#125; options é…ç½®    */  export default function request (url = '', data = &#123;&#125;, silent = false, options = &#123;&#125;) &#123;      const id = `$&#123;url&#125;TIME$&#123;new Date().getTime()&#125;` // ç”Ÿæˆid      !silent &amp;&amp; http.setRequestList(&#123; id &#125;)            return new Promise((resolve, reject) =&gt; &#123;        http.instance          .request(url, data, &#123;            method: 'get',            ...options          &#125;)          .then(res =&gt; &#123;            http.setRequestList(&#123; el: id, remove: true &#125;) // è¯·æ±‚å®Œæˆåï¼Œå‡ºé˜Ÿ            resolve(res)          &#125;)          .catch(error =&gt; &#123;            http.setRequestList(&#123; el: id, remove: true &#125;) // è¯·æ±‚å®Œæˆåï¼Œå‡ºé˜Ÿ            reject(error)          &#125;)      &#125;)    &#125;,// #endregion\nå‚æ•°å¯¹è±¡æ–¹å¼ä¼ å…¥\n123456789101112...    /**    *     * @param &#123;String&#125; url  \bè¯·æ±‚url    * @param &#123;Object&#125; data è¯·æ±‚å‚æ•°    * @param &#123;Object&#125; options è¯·æ±‚å‚æ•°    * @param &#123;Boolean&#125; silent  true: é™é»˜   false: loading    * @param &#123;Object&#125; options é…ç½®    */  export default function request (&#123;url = '', data = &#123;&#125;, silent = false, options = &#123;&#125;&#125;=&#123;&#125;) &#123;...  &#125;\n\næ¥å£åŒæ­¥å¤„ç†å°ç¨‹åºä¸­ï¼Œä¸€èˆ¬ä¼šå­˜åœ¨è¿›å…¥å°ç¨‹åå¿…é¡»å…ˆè¯·æ±‚ä¸€ä¸ªæ¥å£ï¼Œè¯·æ±‚å…¶ä»–æ¥å£æ—¶ä½¿ç”¨å…¶è¿”å›çš„æ•°æ®ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨çš„æ‹¦æˆªå™¨é”å®šAPI\n\næ‹¦æˆªå™¨é”å®šAPIè¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨éƒ½æä¾›äº†é”å®šè‡ªèº«çš„APIï¼Œ æ‹¦æˆªå™¨é”å®šåï¼Œæœªè¿›å…¥åˆ°è¯¥æ‹¦æˆªå™¨çš„è¯·æ±‚å°†åœ¨æ‹¦æˆªå™¨å¤–é¢æ’é˜Ÿï¼Œæš‚åœç½‘ç»œè¯·æ±‚ï¼Œç›´åˆ°æ‹¦æˆªå™¨è§£é”æ—¶ï¼Œæ’é˜Ÿçš„è¯·æ±‚æ‰å†æ¬¡è¿›å…¥æ‹¦æˆªå™¨ç»§ç»­è¯·æ±‚ã€‚è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨éƒ½æä¾›äº†å¦‚ä¸‹ä¸¤ä¸ªAPI:lock()é”å®šå½“å‰æ‹¦æˆªå™¨æ˜¯ã€‚unlockè§£é”å½“å‰æ‹¦æˆªå™¨ã€‚\n\n12345678910111213141516171819202122232425import &#123; http, Http &#125; from '@/utils/http'  async wxDecrypt(&#123; state, commit &#125;) &#123;        http.instance.lock() //é”å®šå½“å‰æ‹¦æˆªå™¨æ˜¯ã€‚        const authHttp = new Http()        uni.login(&#123;          provider: 'weixin',          //è·å–code ä½¿ç”¨wx.loginå¾—åˆ°çš„ç™»é™†å‡­è¯ï¼Œç”¨äºæ¢å–openid          success: async resLogin =&gt; &#123;            const res = await authHttp.instance.post(url, &#123;              jsCode: resLogin.code,              appletName: appletName,              parentSignature: state.parentSignature,              shareId: state.globalScene            &#125;)            // æ›´æ–°headersé…ç½®            http.instance.config.headers = &#123;              ...http.instance.config.headers,              'uid': res.data.Uid            &#125;            http.instance.unlock() //è§£é”å½“å‰æ‹¦æˆªå™¨ã€‚          &#125;        &#125;)      &#125;,\n\n\nä½¿ç”¨ç¤ºä¾‹ 12345 import request from '@/utils/http'request(&#123; url: url, data: data, silent: silent, options: options &#125;)request( url, data, silent, options )","dateCreated":"2019-12-11T16:53:08+08:00","dateModified":"2019-12-13T13:20:54+08:00","datePublished":"2019-12-11T16:53:08+08:00","description":"\n","headline":"uniapp ä¸­ä½¿ç”¨fly","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/"},"publisher":{"@type":"Organization","name":"Leo July","sameAs":["https://github.com/Leo-July","mailto:15563861385@163.com","https://xuebin.me","https://zhangmiao.cc/"],"image":"http://p4.music.126.net/W3NhJpLfagwydeB5FTRHtQ==/19212866184185039.jpg?param=180y180","logo":{"@type":"ImageObject","url":"http://p4.music.126.net/W3NhJpLfagwydeB5FTRHtQ==/19212866184185039.jpg?param=180y180"}},"url":"https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/","keywords":"fly.js, uniapp"}</script>
    <meta name="keywords" content="uniapp,fly">
<meta property="og:type" content="blog">
<meta property="og:title" content="uniapp ä¸­ä½¿ç”¨fly">
<meta property="og:url" content="https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/index.html">
<meta property="og:site_name" content="leo July&#39;s blog">
<meta property="og:locale" content="zh-cn">
<meta property="og:updated_time" content="2019-12-13T05:20:54.169Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="uniapp ä¸­ä½¿ç”¨fly">
    
    
        
    
    
        <meta property="og:image" content="http://p4.music.126.net/W3NhJpLfagwydeB5FTRHtQ==/19212866184185039.jpg?param=180y180"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-du2xmrqdqrl2ollgeiw050kpl6l4nbyz7bumjuurjgsxyopifvukebxc9lqe.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">leo July&#39;s blog</a>
    </div>
    
        
            <a class="header-right-icon open-algolia-search" href="#search">
        
        
            <i class="search fa-lg"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="http://p4.music.126.net/W3NhJpLfagwydeB5FTRHtQ==/19212866184185039.jpg?param=180y180" alt="ä½œè€…çš„å›¾ç‰‡">
                </a>
                <h4 class="sidebar-profile-name">Leo July</h4>
                <!--  -->
                    <h5 class="sidebar-profile-bio">vue,weex,ES6,js,jq,html5,less,css3,git,webpack</h5>
                <!--  -->
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="é¦–é¡µ">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">é¦–é¡µ</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="åˆ†ç±»">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">åˆ†ç±»</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="æ ‡ç­¾">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">æ ‡ç­¾</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="å½’æ¡£">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">å½’æ¡£</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="æœç´¢">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">æœç´¢</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="å…³äº">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">å…³äº</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/Leo-July" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="mailto:15563861385@163.com" target="_blank" rel="noopener" title="Emial">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Emial</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://xuebin.me" target="_blank" rel="noopener" title="xuebin.me">
                    
                        <i class="sidebar-button-icon fa fa-link" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">xuebin.me</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://zhangmiao.cc/" target="_blank" rel="noopener" title="zhangmiao.cc">
                    
                        <i class="sidebar-button-icon fa fa-link" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">zhangmiao.cc</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            uniapp ä¸­ä½¿ç”¨fly
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-12-11T16:53:08+08:00">
	
		    12æœˆ 11, 2019
    	
    </time>
    
        <span>å‘å¸ƒåœ¨ </span>
        
    <a class="category-link" href="/all-categories/js/">js</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt -->
<p><a href="https://wendux.github.io/dist/#/doc/flyio/readme" target="_blank" rel="noopener">flyio å¸®åŠ©æ–‡æ¡£</a></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Fly.js æ˜¯ä¸€ä¸ªåŸºäº promise çš„ï¼Œè½»é‡ä¸”å¼ºå¤§çš„Javascript http ç½‘ç»œåº“ï¼Œå®ƒæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æä¾›ç»Ÿä¸€çš„ Promise APIã€‚</li>
<li>æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œ<strong>è½»é‡ä¸”éå¸¸è½»é‡</strong> ã€‚</li>
<li>æ”¯æŒå¤šç§JavaScript è¿è¡Œç¯å¢ƒ</li>
<li>æ”¯æŒè¯·æ±‚ï¼å“åº”æ‹¦æˆªå™¨ã€‚</li>
<li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®ã€‚</li>
<li><strong>æ”¯æŒåˆ‡æ¢åº•å±‚ Http Engineï¼Œå¯è½»æ¾é€‚é…å„ç§è¿è¡Œç¯å¢ƒ</strong>ã€‚</li>
<li><strong>æµè§ˆå™¨ç«¯æ”¯æŒå…¨å±€Ajaxæ‹¦æˆª ã€‚</strong></li>
<li><strong>H5é¡µé¢å†…åµŒåˆ°åŸç”Ÿ APP ä¸­æ—¶ï¼Œæ”¯æŒå°† http è¯·æ±‚è½¬å‘åˆ° Nativeã€‚æ”¯æŒç›´æ¥è¯·æ±‚å›¾ç‰‡</strong>ã€‚</li>
</ol>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä½¿ç”¨NPM</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install flyio</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨CDN(æµè§ˆå™¨ä¸­)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://unpkg.com/flyio/dist/fly.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>UMDï¼ˆæµè§ˆå™¨ä¸­ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://unpkg.com/flyio/dist/umd/fly.umd.min.js</span><br></pre></td></tr></table></figure>
<h2 id="å¼•å…¥flyio"><a href="#å¼•å…¥flyio" class="headerlink" title="å¼•å…¥flyio"></a>å¼•å…¥flyio</h2><p><strong>ä¸åŒJavaScriptè¿è¡Œæ—¶çš„å…¥å£æ–‡ä»¶ä¸åŒ</strong> ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£åé¢ç›¸åº”å¹³å°çš„å¼•å…¥æ–¹å¼ï¼Œä½†åœ¨æµè§ˆå™¨ã€Nodeã€React Nativeä¸­å¼•å…¥çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼Œä¸‹é¢æ˜¯ä¸åŒå¹³å°ä¸‹çš„å¼•å…¥çš„æ–¹å¼ï¼š</p>
<ol>
<li><p>æµè§ˆå™¨ã€Nodeã€React Nativeä¸­å¼•å…¥</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var fly=require(&quot;flyio&quot;)</span><br></pre></td></tr></table></figure>
<p> ä¸Šé¢æ–¹å¼å¼•å…¥çš„æ˜¯Flyçš„é»˜è®¤å®ä¾‹ï¼ˆæµè§ˆå™¨ã€Nodeã€React Nativeä¸­ç›¸åŒï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºFlyå®ä¾‹ï¼š</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var Fly=require(&quot;flyio/dist/npm/fly&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var fly=new Fly;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol start="2">
<li><p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å¼•å…¥</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var Fly=require(&quot;flyio/dist/npm/wx&quot;)</span><br><span class="line">var fly=new Fly</span><br></pre></td></tr></table></figure>
<p> å¦‚æœæ‚¨çš„å¾®ä¿¡å°ç¨‹åºé¡¹ç›®æ²¡æœ‰ä½¿ç”¨<code>npm</code>æ¥ç®¡ç†ä¾èµ–ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä¸‹è½½æºç åˆ°æ‚¨çš„å°ç¨‹åºå·¥ç¨‹ï¼Œä¸‹è½½é“¾æ¥<a href="https://github.com/wendux/fly/tree/master/dist/npm/wx.js" target="_blank" rel="noopener">wx.js</a> æˆ– <a href="https://github.com/wendux/fly/tree/master/dist/umd/wx.umd.min.js" target="_blank" rel="noopener">wx.umd.min.js</a> .ä¸‹è½½ä»»æ„ä¸€ä¸ªï¼Œä¿å­˜åˆ°æœ¬åœ°å·¥ç¨‹ç›®å½•ï¼Œå‡è®¾åœ¨â€œlibâ€ç›®å½•ï¼Œæ¥ä¸‹æ¥å¼•å…¥ï¼š</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var Fly=require(&quot;../lib/wx&quot;) </span><br><span class="line">var fly=new Fly;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol start="3">
<li><p>å¿«åº”ç”¨ä¸­å¼•å…¥</p>
<p><a href="https://www.quickapp.cn/" target="_blank" rel="noopener">å¿«åº”ç”¨</a> ä¸­Flyä¾èµ– <code>fetch</code>æ¨¡å—ï¼Œéœ€è¦å…ˆåœ¨ <code>manifest.json</code>ä¸­æ·»åŠ å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;features&quot;: [</span><br><span class="line">    ...</span><br><span class="line">  &#123;&quot;name&quot;: &quot;system.fetch&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»ºflyå®ä¾‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var fetch = require(&quot;@system.fetch&quot;)</span><br><span class="line">var Fly=require(&quot;flyio/dist/npm/hap&quot;)</span><br><span class="line">var fly=new Fly(fetch)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol start="4">
<li><p>Weexä¸­å¼•å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var Fly=require(&quot;flyio/dist/npm/weex&quot;)</span><br><span class="line">var fly=new Fly</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>å¼•å…¥ä¹‹åï¼Œæ‚¨å°±å¯ä»¥å¯¹flyå®ä¾‹è¿›è¡Œå…¨å±€é…ç½®ã€æ·»åŠ æ‹¦æˆªå™¨ã€å‘èµ·ç½‘ç»œè¯·æ±‚äº†ã€‚</p>
<h2 id="å…·ä½“å®ç°å®ä¾‹"><a href="#å…·ä½“å®ç°å®ä¾‹" class="headerlink" title="å…·ä½“å®ç°å®ä¾‹"></a>å…·ä½“å®ç°å®ä¾‹</h2><ol>
<li><p>å£°æ˜flyå®ä¾‹</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Http</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* @export</span></span><br><span class="line"><span class="comment">* @class Http</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable */</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Http</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> Fly = <span class="built_in">require</span>(<span class="string">'flyio'</span>) <span class="comment">// https://wendux.github.io/dist/#/doc/flyio/readme</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// #ifdef MP-WEIXIN</span></span><br><span class="line">    Fly = <span class="built_in">require</span>(<span class="string">'flyio/dist/npm/wx'</span>) <span class="comment">// https://wendux.github.io/dist/#/doc/flyio/readme</span></span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.instance = <span class="keyword">new</span> Fly()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.instance.config= &#123;</span><br><span class="line">      baseURL: process.env.VUE_APP_API <span class="comment">// ç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„apiåŸŸå</span></span><br><span class="line">      <span class="string">'Content-Type'</span>: <span class="string">'application/json;charset=UTF-8'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‹¦æˆªå™¨é…ç½®<br> è¯·æ±‚æ‹¦æˆªå™¨</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// #region è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">requestUse () &#123;</span><br><span class="line">  <span class="keyword">this</span>.instance.interceptors.request.use(</span><br><span class="line">    request =&gt; &#123;</span><br><span class="line">      request.headers = &#123;</span><br><span class="line">        <span class="string">'zpinno-boleuid'</span>: store.state.boleUid, <span class="comment">// å¿…ä¼ å‚æ•°æ”¾åœ¨headers å®ç°</span></span><br><span class="line">        ...request.headers</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">console</span>.info(<span class="string">`ğŸ”Š [è¯·æ±‚æ‹¦æˆªå™¨]  -&gt; <span class="subst">$&#123;request.url&#125;</span>`</span>, request, <span class="string">'request'</span>)</span><br><span class="line">      <span class="keyword">return</span> request</span><br><span class="line">    &#125;,</span><br><span class="line">    error =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">'ğŸ”Š [è¯·æ±‚æ‹¦æˆªå™¨] -&gt; error'</span>, error)</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(error)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// #endregion</span></span><br></pre></td></tr></table></figure>
<p> region å“åº”æ‹¦æˆªå™¨</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #region å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">responseUse () &#123;</span><br><span class="line">  <span class="keyword">this</span>.instance.interceptors.response.use(</span><br><span class="line">    response =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.info(<span class="string">`ğŸ”Š [å“åº”æ‹¦æˆªå™¨] -&gt; <span class="subst">$&#123;response.request.url&#125;</span>`</span>, response)</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(response.data)</span><br><span class="line">    &#125;,</span><br><span class="line">    error =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.info(<span class="string">`ğŸ”Š [å“åº”æ‹¦æˆªå™¨] -&gt; error -&gt; <span class="subst">$&#123;error.request.url&#125;</span>`</span>, error)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// #region response status: è¯·æ±‚å·²å‘å‡ºï¼Œä½†æ˜¯ä¸åœ¨2xxçš„èŒƒå›´</span></span><br><span class="line">      <span class="keyword">const</span> statusCode = &#123;</span><br><span class="line">        <span class="number">404</span>: <span class="string">'404,é”™è¯¯è¯·æ±‚'</span>,</span><br><span class="line">        <span class="number">401</span>: <span class="string">'æœªæˆæƒ'</span>,</span><br><span class="line">        <span class="number">403</span>: <span class="string">'ç¦æ­¢è®¿é—®'</span>,</span><br><span class="line">        <span class="number">408</span>: <span class="string">'è¯·æ±‚è¶…æ—¶'</span>,</span><br><span class="line">        <span class="number">500</span>: <span class="string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span>,</span><br><span class="line">        <span class="number">501</span>: <span class="string">'åŠŸèƒ½æœªå®ç°'</span>,</span><br><span class="line">        <span class="number">502</span>: <span class="string">'æœåŠ¡ä¸å¯ç”¨'</span>,</span><br><span class="line">        <span class="number">503</span>: <span class="string">'æœåŠ¡ä¸å¯ç”¨'</span>,</span><br><span class="line">        <span class="number">504</span>: <span class="string">'ç½‘å…³é”™è¯¯'</span>,</span><br><span class="line">        <span class="number">510</span>: <span class="string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// #endregion</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// TODO å¤„ç†æ–­ç½‘çš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> statusMessage = statusCode[~~error.response.status]</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(statusMessage ? <span class="keyword">new</span> <span class="built_in">Error</span>(statusMessage) : error)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// #endregion</span></span><br></pre></td></tr></table></figure>
<p> å¼•ç”¨æ‹¦æˆªå™¨</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Http</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.requestUse()</span><br><span class="line">    <span class="keyword">this</span>.responseUse()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°è¯·æ±‚é˜Ÿåˆ—<code>loading</code>æˆ–è€…é™é»˜è¯·æ±‚<br> é¦–å…ˆå®šä¹‰é˜Ÿåˆ—å±æ€§</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Http</span> </span>&#123;</span><br><span class="line"><span class="keyword">constructor</span>() &#123;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>._requestList = [] <span class="comment">// è¯·æ±‚é˜Ÿåˆ—</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> é€šè¿‡get set å®ç°ç›‘å¬requestList</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// #region è¯·æ±‚é˜Ÿåˆ— get  set</span></span><br><span class="line">get requestList () &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>._requestList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">set requestList (list) &#123;</span><br><span class="line">  <span class="keyword">this</span>._requestList = list <span class="comment">// è®¾ç½®è¯·æ±‚é˜Ÿåˆ—</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>._requestList.length === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœè¯·æ±‚é˜Ÿåˆ—ä¸ºç©ºäº†ï¼Œå°±å…³é—­loading</span></span><br><span class="line">    uni.hideLoading()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// åçŸ¥æ˜¾ç¤ºloading</span></span><br><span class="line">    uni.showLoading(&#123;</span><br><span class="line">      title: <span class="string">'åŠ è½½ä¸­'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// #endregion</span></span><br></pre></td></tr></table></figure>
<p> å…¥é˜Ÿå‡ºé˜Ÿæ–¹æ³•</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* @param &#123;String&#125; id  è¯·æ±‚é˜Ÿåˆ—å…¥é˜Ÿæˆ–å‡ºé˜Ÿçš„id</span></span><br><span class="line"><span class="comment">* @param &#123;Boolean&#125; remove  true: å‡ºé˜Ÿ   false: é»˜è®¤  è¿›é˜Ÿ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">setRequestList (&#123; id = <span class="string">''</span>, remove = <span class="literal">false</span> &#125; = &#123;&#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> array = [...this._requestList]</span><br><span class="line">  remove ? array.splice(array.indexOf(id), <span class="number">1</span>) : array.push(id)</span><br><span class="line">  <span class="keyword">this</span>.requestList = array</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å•ä¾‹è¯·æ±‚å®ç°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> http = <span class="keyword">new</span> Http()</span><br><span class="line">  <span class="comment">// #region å•ä¾‹è¯·æ±‚æ¥å£</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    * @param &#123;String&#125; url  è¯·æ±‚url</span></span><br><span class="line"><span class="comment">    * @param &#123;Object&#125; data è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">    * @param &#123;Object&#125; options è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">    * @param &#123;Boolean&#125; silent  true: é™é»˜   false: loading</span></span><br><span class="line"><span class="comment">    * @param &#123;Object&#125; options é…ç½®</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span> (<span class="params">url = <span class="string">''</span>, data = &#123;&#125;, silent = false, options = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> id = <span class="string">`<span class="subst">$&#123;url&#125;</span>TIME<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()&#125;</span>`</span> <span class="comment">// ç”Ÿæˆid</span></span><br><span class="line"></span><br><span class="line">      !silent &amp;&amp; http.setRequestList(&#123; id &#125;)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        http.instance</span><br><span class="line">          .request(url, data, &#123;</span><br><span class="line">            method: <span class="string">'get'</span>,</span><br><span class="line">            ...options</span><br><span class="line">          &#125;)</span><br><span class="line">          .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            http.setRequestList(&#123; <span class="attr">el</span>: id, <span class="attr">remove</span>: <span class="literal">true</span> &#125;) <span class="comment">// è¯·æ±‚å®Œæˆåï¼Œå‡ºé˜Ÿ</span></span><br><span class="line">            resolve(res)</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">            http.setRequestList(&#123; <span class="attr">el</span>: id, <span class="attr">remove</span>: <span class="literal">true</span> &#125;) <span class="comment">// è¯·æ±‚å®Œæˆåï¼Œå‡ºé˜Ÿ</span></span><br><span class="line">            reject(error)</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// #endregion</span></span><br></pre></td></tr></table></figure>
<p>å‚æ•°å¯¹è±¡æ–¹å¼ä¼ å…¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    * @param &#123;String&#125; url  è¯·æ±‚url</span></span><br><span class="line"><span class="comment">    * @param &#123;Object&#125; data è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">    * @param &#123;Object&#125; options è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">    * @param &#123;Boolean&#125; silent  true: é™é»˜   false: loading</span></span><br><span class="line"><span class="comment">    * @param &#123;Object&#125; options é…ç½®</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span> (<span class="params">&#123;url = <span class="string">''</span>, data = &#123;&#125;, silent = false, options = &#123;&#125;&#125;=&#123;&#125;</span>) </span>&#123;</span><br><span class="line">...</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¥å£åŒæ­¥å¤„ç†<br>å°ç¨‹åºä¸­ï¼Œä¸€èˆ¬ä¼šå­˜åœ¨è¿›å…¥å°ç¨‹åå¿…é¡»å…ˆè¯·æ±‚ä¸€ä¸ªæ¥å£ï¼Œè¯·æ±‚å…¶ä»–æ¥å£æ—¶ä½¿ç”¨å…¶è¿”å›çš„æ•°æ®ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨çš„<em>æ‹¦æˆªå™¨é”å®šAPI</em></p>
<blockquote>
<p>æ‹¦æˆªå™¨é”å®šAPI<br>è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨éƒ½æä¾›äº†é”å®šè‡ªèº«çš„APIï¼Œ æ‹¦æˆªå™¨é”å®šåï¼Œæœªè¿›å…¥åˆ°è¯¥æ‹¦æˆªå™¨çš„è¯·æ±‚å°†åœ¨æ‹¦æˆªå™¨å¤–é¢æ’é˜Ÿï¼Œæš‚åœç½‘ç»œè¯·æ±‚ï¼Œç›´åˆ°æ‹¦æˆªå™¨è§£é”æ—¶ï¼Œæ’é˜Ÿçš„è¯·æ±‚æ‰å†æ¬¡è¿›å…¥æ‹¦æˆªå™¨ç»§ç»­è¯·æ±‚ã€‚è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨éƒ½æä¾›äº†å¦‚ä¸‹ä¸¤ä¸ªAPI:<br>lock()<br>é”å®šå½“å‰æ‹¦æˆªå™¨æ˜¯ã€‚<br>unlock<br>è§£é”å½“å‰æ‹¦æˆªå™¨ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; http, Http &#125; <span class="keyword">from</span> <span class="string">'@/utils/http'</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> wxDecrypt(&#123; state, commit &#125;) &#123;</span><br><span class="line">        http.instance.lock() <span class="comment">//é”å®šå½“å‰æ‹¦æˆªå™¨æ˜¯ã€‚</span></span><br><span class="line">        <span class="keyword">const</span> authHttp = <span class="keyword">new</span> Http()</span><br><span class="line">        uni.login(&#123;</span><br><span class="line">          provider: <span class="string">'weixin'</span>,</span><br><span class="line">          <span class="comment">//è·å–code ä½¿ç”¨wx.loginå¾—åˆ°çš„ç™»é™†å‡­è¯ï¼Œç”¨äºæ¢å–openid</span></span><br><span class="line">          success: <span class="keyword">async</span> resLogin =&gt; &#123;</span><br><span class="line">            <span class="keyword">const</span> res = <span class="keyword">await</span> authHttp.instance.post(url, &#123;</span><br><span class="line">              jsCode: resLogin.code,</span><br><span class="line">              appletName: appletName,</span><br><span class="line">              parentSignature: state.parentSignature,</span><br><span class="line">              shareId: state.globalScene</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// æ›´æ–°headersé…ç½®</span></span><br><span class="line">            http.instance.config.headers = &#123;</span><br><span class="line">              ...http.instance.config.headers,</span><br><span class="line">              <span class="string">'uid'</span>: res.data.Uid</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            http.instance.unlock() <span class="comment">//è§£é”å½“å‰æ‹¦æˆªå™¨ã€‚</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h2> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">'@/utils/http'</span></span><br><span class="line"></span><br><span class="line">request(&#123; <span class="attr">url</span>: url, <span class="attr">data</span>: data, <span class="attr">silent</span>: silent, <span class="attr">options</span>: options &#125;)</span><br><span class="line"></span><br><span class="line">request( url, data, silent, options )</span><br></pre></td></tr></table></figure>
            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">æ ‡ç­¾</span><br>
                
    <a class="tag tag--primary tag--small t-link" href="/all-tags/fly-js/">fly.js</a> <a class="tag tag--primary tag--small t-link" href="/all-tags/uniapp/">uniapp</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2020/02/26/å¥½ç”¨çš„ç½‘ç«™/" data-tooltip="å¥½ç”¨çš„ç½‘ç«™" aria-label="ä¸Šä¸€ç¯‡: å¥½ç”¨çš„ç½‘ç«™">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/12/11/heades-å€¼ä¸èƒ½å¸¦æœ‰ä¸‹åˆ’çº¿/" data-tooltip="heades å€¼ä¸èƒ½å¸¦æœ‰ä¸‹åˆ’çº¿" aria-label="ä¸‹ä¸€ç¯‡: heades å€¼ä¸èƒ½å¸¦æœ‰ä¸‹åˆ’çº¿">
                
                    <span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Weibo">
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/&amp;title=uniapp ä¸­ä½¿ç”¨fly" title="åˆ†äº«åˆ° QQ">
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Qzone">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Leo July. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2020/02/26/å¥½ç”¨çš„ç½‘ç«™/" data-tooltip="å¥½ç”¨çš„ç½‘ç«™" aria-label="ä¸Šä¸€ç¯‡: å¥½ç”¨çš„ç½‘ç«™">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/12/11/heades-å€¼ä¸èƒ½å¸¦æœ‰ä¸‹åˆ’çº¿/" data-tooltip="heades å€¼ä¸èƒ½å¸¦æœ‰ä¸‹åˆ’çº¿" aria-label="ä¸‹ä¸€ç¯‡: heades å€¼ä¸èƒ½å¸¦æœ‰ä¸‹åˆ’çº¿">
                
                    <span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Weibo">
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/&amp;title=uniapp ä¸­ä½¿ç”¨fly" title="åˆ†äº«åˆ° QQ">
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/" title="åˆ†äº«åˆ° Qzone">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>åˆ†äº«åˆ° Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>åˆ†äº«åˆ° Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>åˆ†äº«åˆ° Google+</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/">
                    <i class="fab fa-weibo" aria-hidden="true"></i><span>åˆ†äº«åˆ° Weibo</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/&amp;title=uniapp ä¸­ä½¿ç”¨fly">
                    <i class="fab fa-qq" aria-hidden="true"></i><span>åˆ†äº«åˆ° QQ</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://leo-july.github.io/2019/12/11/uniapp-ä¸­ä½¿ç”¨fly/">
                    <i class="fa fa-star" aria-hidden="true"></i><span>åˆ†äº«åˆ° Qzone</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="http://p4.music.126.net/W3NhJpLfagwydeB5FTRHtQ==/19212866184185039.jpg?param=180y180" alt="ä½œè€…çš„å›¾ç‰‡">
        
            <h4 id="about-card-name">Leo July</h4>
        <!--  -->
            <div id="about-card-bio">vue,weex,ES6,js,jq,html5,less,css3,git,webpack</div>
        <!--  -->
        <!--  -->
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆ
            </div>
        <!--  -->
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search" class="form-control input--large search-input" placeholder="Search ">
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">æ²¡æœ‰æ‰¾åˆ°æ–‡ç« </div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/01/16/h5-video/">
                            <img class="media-image" src="https://leo-july.github.io/2018/01/16/h5-video/video.png" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/01/16/h5-video/">
                            <h3 class="media-heading">h5 videoç§»åŠ¨ç«¯å¡«å‘è®°</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´1æœˆ16æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/01/22/vue-chat-room/">
                            <img class="media-image" src="https://leo-july.github.io/2018/01/22/vue-chat-room/timg.jpeg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/01/22/vue-chat-room/">
                            <h3 class="media-heading">vue ä»¿appèŠå¤©å®¤</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´1æœˆ22æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/01/23/vue-barrage/">
                            <img class="media-image" src="https://leo-july.github.io/2018/01/23/vue-barrage/thumbnail.jpg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/01/23/vue-barrage/">
                            <h3 class="media-heading">vue æ¨ªå±æ»šåŠ¨å¼¹å¹•</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´1æœˆ23æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/02/23/wechat/">
                            <img class="media-image" src="https://leo-july.github.io/2018/02/23/wechat/show.jpg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/02/23/wechat/">
                            <h3 class="media-heading">å¾®ä¿¡å°ç¨‹åºä¸­é‡åˆ°çš„å‘å’Œä¸€äº›å°æŠ€å·§</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´2æœˆ23æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/11/26/js-curring/">
                            <h3 class="media-heading">js-æŸ¯é‡ŒåŒ–</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´11æœˆ26æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><!-- clearReading: true
thumbnailImage: thumbnail.jpg
thumbnailImagePosition: bottom
autoThumbnailImage: yes
metaAlignment: center
coverImage: cover.png
coverImage: cover.jpg
coverCaption: "A beautiful sunrise"
coverMeta: out
coverSize: full
coverSize: partial
gallery:
    - image-3.jpg "New York"
comments: false -->
<a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/11/26/Hexo-browsersync/">
                            <h3 class="media-heading">Hexoä½¿ç”¨browsersyncæµè§ˆå™¨çƒ­æ›´æ–°</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´11æœˆ26æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><!-- 
thumbnailImage: thumbnail.jpg
thumbnailImagePosition: bottom
autoThumbnailImage: yes
metaAlignment: center
coverImage: cover.png
coverImage: cover.jpg
coverCaption: "A beautiful sunrise"
coverMeta: out
coverSize: full
coverSize: partial
gallery:
    - image-3.jpg "New York" -->
<a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/11/26/axios/">
                            <h3 class="media-heading">axios äºŒæ¬¡å°è£…ï¼Œå¸¦æœ‰é™é»˜æ¨¡å¼</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´11æœˆ26æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><!--
thumbnailImage: thumbnail.jpg
thumbnailImagePosition: bottom
autoThumbnailImage: yes
metaAlignment: center
coverImage: cover.png
coverImage: cover.jpg
coverCaption: "A beautiful sunrise"
coverMeta: out
coverSize: full
coverSize: partial
gallery:
    - image-3.jpg "New York" -->
<a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/11/26/jsDom/">
                            <h3 class="media-heading">jsDom is not a function</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´11æœˆ26æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><!-- 
thumbnailImage: thumbnail.jpg
thumbnailImagePosition: bottom
autoThumbnailImage: yes
metaAlignment: center
coverImage: cover.png
coverImage: cover.jpg
coverCaption: "A beautiful sunrise"
coverMeta: out
coverSize: full
coverSize: partial
gallery:
    - image-3.jpg "New York" -->
<a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/11/29/xcode-select/">
                            <h3 class="media-heading">mac xcode-select ä¸‹è½½å®‰è£…</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´11æœˆ29æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><!-- 
thumbnailImage: thumbnail.jpg
thumbnailImagePosition: bottom
autoThumbnailImage: yes
metaAlignment: center
coverImage: cover.png
coverImage: cover.jpg
coverCaption: "A beautiful sunrise"
coverMeta: out
coverSize: full
coverSize: partial
gallery:
    - image-3.jpg "New York" -->
<a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://leo-july.github.io/2018/11/29/ssh -T git-github-com/">
                            <h3 class="media-heading">ssh -T git@github.com å‡ºç°Permission denied (publickey)</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018å¹´11æœˆ29æ—¥
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><!-- 
thumbnailImage: thumbnail.jpg
thumbnailImagePosition: bottom
autoThumbnailImage: yes
metaAlignment: center
coverImage: cover.png
coverImage: cover.jpg
coverCaption: "A beautiful sunrise"
coverMeta: out
coverSize: full
coverSize: partial
gallery:
    - image-3.jpg "New York" -->
<a id="more"></a></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium" data-message-zero="æ²¡æœ‰æ‰¾åˆ°æ–‡ç« " data-message-one="æ‰¾åˆ° 1 ç¯‡æ–‡ç« " data-message-other="æ‰¾åˆ° {n} ç¯‡æ–‡ç« ">
                æ‰¾åˆ° 25 ç¯‡æ–‡ç« 
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-vufjrm3fmbuttogo1hxuu0w9w0sesk5iyysjuguc2hdhufot9szxg8twijry.min.js"></script>
<!--SCRIPTS END-->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('QDFOH7HV1P', '5132f23a0d2983147e805aa47a5df3e4');
        var algoliaIndex = algoliaClient.initIndex('tranquilpeak');
    </script>


    </body>
</html>
